"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[95804],{29451:(e,o,t)=>{t.r(o),t.d(o,{assets:()=>s,contentTitle:()=>a,default:()=>c,frontMatter:()=>l,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"auto-docs/view_model_after_auth_view_models_profile_view_models_profile_page_view_model/ProfilePageViewModel/logout","title":"logout method","description":"Future&lt;void> logout","source":"@site/docs/auto-docs/view_model_after_auth_view_models_profile_view_models_profile_page_view_model/ProfilePageViewModel/logout.md","sourceDirName":"auto-docs/view_model_after_auth_view_models_profile_view_models_profile_page_view_model/ProfilePageViewModel","slug":"/auto-docs/view_model_after_auth_view_models_profile_view_models_profile_page_view_model/ProfilePageViewModel/logout","permalink":"/docs/auto-docs/view_model_after_auth_view_models_profile_view_models_profile_page_view_model/ProfilePageViewModel/logout","draft":false,"unlisted":false,"editUrl":"https://github.com/PalisadoesFoundation/talawa/edit/develop/docs/docs/auto-docs/view_model_after_auth_view_models_profile_view_models_profile_page_view_model/ProfilePageViewModel/logout.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"invite method","permalink":"/docs/auto-docs/view_model_after_auth_view_models_profile_view_models_profile_page_view_model/ProfilePageViewModel/invite"},"next":{"title":"organisation property","permalink":"/docs/auto-docs/view_model_after_auth_view_models_profile_view_models_profile_page_view_model/ProfilePageViewModel/organisation"}}');var n=t(74848),r=t(28453);const l={},a="logout method",s={},d=[{value:"Implementation",id:"implementation",level:2}];function u(e){const o={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.header,{children:(0,n.jsx)(o.h1,{id:"logout-method",children:"logout method"})}),"\n",(0,n.jsxs)(o.p,{children:[(0,n.jsx)(o.a,{href:"https://api.flutter.dev/flutter/dart-async/Future-class.html",children:"Future"}),"<void> logout\n(",(0,n.jsx)(o.a,{href:"https://api.flutter.dev/flutter/widgets/BuildContext-class.html",children:"BuildContext"})," context)"]}),"\n",(0,n.jsx)("p",{children:"This method destroys the user's session or sign out the user from app.\nThe function asks for the confimation in Custom Alert Dialog."}),"\n",(0,n.jsx)(o.h2,{id:"implementation",children:"Implementation"}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-dart",children:"Future<void> logout(BuildContext context) async \\{\n  // push custom alert dialog with the confirmation message.\n  navigationService.pushDialog(\n    CustomAlertDialog(\n      reverse: true,\n      dialogSubTitle: 'Are you sure you want to logout?',\n      successText: 'Logout',\n      success: () async \\{\n        try \\{\n          final result = await databaseFunctions\n              .gqlAuthMutation(queries.logout()) as QueryResult?;\n          if (result != null && result.data!['logout'] == true) \\{\n            navigationService.pop();\n            navigationService.pushDialog(\n              const CustomProgressDialog(\n                key: Key('LogoutProgress'),\n              ),\n            );\n            Future.delayed(const Duration(seconds: 1)).then((value) \\{\n              user = Hive.box<User>('currentUser');\n              url = Hive.box('url');\n              final androidFirebaseOptionsBox =\n                  Hive.box('androidFirebaseOptions');\n              final iosFirebaseOptionsBox = Hive.box('iosFirebaseOptions');\n              organisation = Hive.box<OrgInfo>('currentOrg');\n              user.clear();\n              url.clear();\n              androidFirebaseOptionsBox.clear();\n              iosFirebaseOptionsBox.clear();\n              try \\{\n                Firebase.app()\n                    .delete(); // Deleting app will stop all Firebase plugins\n              \\} catch (e) \\{\n                debugPrint(\"ERROR: Unable to delete firebase app $e\");\n              \\}\n              organisation.clear();\n              navigationService.pop();\n              navigationService.removeAllAndPush(\n                '/selectLang',\n                '/',\n                arguments: '0',\n              );\n            \\});\n          \\}\n        \\} catch (e) \\{\n          print(e);\n        \\}\n      \\},\n    ),\n  );\n\\}\n"})})]})}function c(e={}){const{wrapper:o}={...(0,r.R)(),...e.components};return o?(0,n.jsx)(o,{...e,children:(0,n.jsx)(u,{...e})}):u(e)}},28453:(e,o,t)=>{t.d(o,{R:()=>l,x:()=>a});var i=t(96540);const n={},r=i.createContext(n);function l(e){const o=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function a(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:l(e.components),i.createElement(r.Provider,{value:o},e.children)}}}]);